/* 背景图片修复：铺满且不随内容滚动 */
.bg-layer {
    position: fixed; 
    top: -20px; 
    left: -20px; 
    right: -20px; 
    bottom: -20px; 
    background: url('https://bing.ee123.net/img/') center/cover no-repeat;
    filter: blur(8px);
    z-index: -1;
}

/* 容器布局：避开导航栏，垂直居中 */
.auth-container {
    width: 100%;
    min-height: 100vh;
    display: flex; align-items: center; justify-content: center;
    padding: 20px;
    padding-top: 80px;
    box-sizing: border-box;
}

/* 卡片样式 */
.auth-card {
    background: var(--card-bg); /* 这里已经应用了新的高透明度变量 */
    width: 100%; max-width: 450px;
    padding: 40px 40px 36px;
    border-radius: 28px;
    box-shadow: 0 1px 3px var(--shadow-color), 0 10px 30px var(--shadow-color);
    backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px);
    transition: height 0.3s ease;
    overflow: hidden;
    position: relative;
    max-height: calc(100vh - 100px); 
    overflow-y: auto;
    scrollbar-width: none;
}
.auth-card::-webkit-scrollbar { display: none; }

.auth-header { text-align: center; margin-bottom: 30px; }
.auth-header h2 { font-size: 24px; font-weight: 500; margin-bottom: 8px; color: var(--text-color); }
.auth-header p { font-size: 16px; color: var(--text-secondary); }

/* 步骤切换动画 */
.auth-step { display: none; animation: fadeIn 0.4s ease; }
.auth-step.active { display: block; }

@keyframes fadeIn {
    from { opacity: 0; transform: translateX(20px); }
    to { opacity: 1; transform: translateX(0); }
}

/* 输入框样式 */
.input-group { position: relative; margin-bottom: 24px; }

.input-group input {
    width: 100%; height: 56px; padding: 14px 16px 0;
    font-size: 16px; color: var(--text-color);
    background: transparent; 
    /* 修改：默认边框颜色加深 (原先是 var(--border-color) 较浅) */
    border: 1px solid #80868b; 
    border-radius: 4px; outline: none; transition: border 0.2s;
}

/* 深色模式下边框也不要太亮，但要清晰 */
[data-theme="dark"] .input-group input { border-color: #858585; }

.input-group input:focus { border: 2px solid var(--primary-color); padding: 14px 15px 0; }
.input-group label {
    position: absolute; left: 14px; top: 18px;
    color: var(--text-secondary); font-size: 16px;
    pointer-events: none; transition: 0.2s ease all;
    background: transparent; padding: 0 4px;
}
/* 输入框有值或聚焦时，标签上浮 */
.input-group input:focus ~ label,
.input-group input:not(:placeholder-shown) ~ label,
.input-group.filled label { /* 增加 filled 类支持手动触发 */
    top: -8px; left: 10px; font-size: 12px; color: var(--primary-color);
    background: var(--card-bg);
}

/* 按钮组 */
.actions-right { display: flex; justify-content: flex-end; align-items: center; gap: 12px; flex-wrap: wrap;}
.actions-left-right { display: flex; justify-content: space-between; align-items: center; }
.mt-4 { margin-top: 16px; }

.btn-primary {
    background: var(--primary-color); color: white;
    border: none; padding: 10px 24px; border-radius: 20px;
    font-size: 14px; font-weight: 500; cursor: pointer;
}
.btn-primary:hover { background: var(--primary-hover); box-shadow: 0 1px 3px rgba(0,0,0,0.3); }

.btn-text {
    background: transparent; color: var(--primary-color);
    border: none; font-size: 14px; font-weight: 500; cursor: pointer; padding: 8px;
}
.btn-text:hover { background: rgba(26, 115, 232, 0.08); border-radius: 4px; }

.btn-outlined {
    background: transparent; color: var(--primary-color);
    border: 1px solid var(--border-color); padding: 9px 23px;
    border-radius: 20px; font-size: 14px; cursor: pointer;
}

/* 第三方登录 & FontAwesome */
.divider { display: flex; align-items: center; margin: 30px 0 20px; color: var(--text-secondary); font-size: 13px; }
.divider::before, .divider::after { content: ''; flex: 1; height: 1px; background: var(--border-color); }
.divider span { padding: 0 10px; }

.social-login { display: flex; justify-content: center; gap: 20px; }
.social-btn {
    width: 48px; height: 48px; border-radius: 50%; border: 1px solid var(--border-color);
    background: transparent; cursor: pointer; display: flex; align-items: center; justify-content: center;
    transition: background 0.2s;
}
.social-btn:hover { background: rgba(0,0,0,0.05); }
.social-btn i { font-size: 22px; color: var(--text-color); }
[data-theme="dark"] .social-btn i { color: #fff; } 
/* 品牌色 */
.social-btn i.fa-google { color: #DB4437 !important; }
.social-btn i.fa-microsoft { color: #00A4EF !important; }

/* 用户 Chip 样式 */
.user-chip {
    display: inline-flex; align-items: center; justify-content: center;
    border: 1px solid var(--border-color); border-radius: 16px;
    padding: 6px 12px 6px 8px; margin: 0 auto 24px auto; cursor: pointer;
    max-width: 100%;
}
/* 密码页中 Chip 靠左或适应内容 */
#step-password .user-chip { display: flex; width: fit-content; }
.user-chip .material-icons-round { font-size: 20px; margin-right: 8px; color: var(--text-secondary); }
.user-chip span { font-size: 14px; color: var(--text-color); font-weight: 500; }
.user-chip:hover { background-color: rgba(0,0,0,0.05); }
